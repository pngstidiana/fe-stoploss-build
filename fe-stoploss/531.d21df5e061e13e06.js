"use strict";(self.webpackChunkvalex=self.webpackChunkvalex||[]).push([[531],{6531:(E,_,u)=>{u.r(_),u.d(_,{MasterFormulaModule:()=>V});var g=u(6895),p=u(8317),l=u(4006),T=u(5226),i=u.n(T),t=u(4650),c=u(529),b=u(8306);let v=(()=>{class r{constructor(e){this.httpClient=e}createFormula(e){let o={Authorization:localStorage.getItem("token")},d={headers:new c.WM(o)};return new b.y(n=>{this.httpClient.post("/api/api/v1/master/formula/create",e,d).subscribe(m=>{n.next(m)},m=>{n.error(m)})})}editFormula(e){let o={Authorization:localStorage.getItem("token")},d={headers:new c.WM(o)};return new b.y(n=>{this.httpClient.put("/api/api/v1/master/formula/edit",e,d).subscribe(m=>{n.next(m)},m=>{n.error(m)})})}updateIsActive(e){let o={Authorization:localStorage.getItem("token")},d={headers:new c.WM(o)},n={idFormula:e};return new b.y(m=>{this.httpClient.put("/api/api/v1/master/formula",n,d).subscribe(h=>{m.next(h)},h=>{m.error(h)})})}getFormulaById(e){let o={Authorization:localStorage.getItem("token")},d={headers:new c.WM(o)};return new b.y(n=>{this.httpClient.get("/api/api/v1/master/formula?idFormula="+e,d).subscribe(m=>{n.next(m)},m=>{n.error(m)})})}getDataFormula(e,a,o){let n={Authorization:localStorage.getItem("token")},m={headers:new c.WM(n)};var h={namaFormula:e};return new b.y(w=>{this.httpClient.post(`/api/api/v1/master/formula?page=${a}&size=${o}`,h,m).subscribe(F=>{w.next(F)},F=>{w.error(F)})})}getDataFormulaById(e){let o={Authorization:localStorage.getItem("token")},d={headers:new c.WM(o)};return new b.y(n=>{this.httpClient.get(`/api/api/v1/master/formula?id=${e}`,d).subscribe(m=>{n.next(m)},m=>{n.error(m)})})}}return r.\u0275fac=function(e){return new(e||r)(t.LFG(c.eN))},r.\u0275prov=t.Yz7({token:r,factory:r.\u0275fac,providedIn:"root"}),r})();const Z=function(){return["/master-formula/inquiry"]};let k=(()=>{class r{constructor(e,a,o,d){this.formBuilder=e,this.route=a,this.formulaService=o,this.router=d,this.header="Tambah",this.now=new Date,this.showSetActive=!0,this.showSetNonActive=!0,this.showSimpanEntry=!1,this.showSimpanEdit=!0,this.Success=i().mixin({toast:!0,width:"300px",position:"top-end",background:"#4CBB17",iconColor:"#fff",showConfirmButton:!1,timer:1600,didOpen:n=>{n.addEventListener("mouseenter",i().stopTimer),n.addEventListener("mouseleave",i().resumeTimer)}}),this.Failed=i().mixin({toast:!0,width:"300px",position:"top-end",background:"#FF3131",iconColor:"#fff",showConfirmButton:!1,timer:4e3,didOpen:n=>{n.addEventListener("mouseenter",i().stopTimer),n.addEventListener("mouseleave",i().resumeTimer)}}),this.Warning=i().mixin({toast:!0,width:"300px",position:"top-end",background:"#FFAA33",iconColor:"#fff",showConfirmButton:!1,timer:4e3,didOpen:n=>{n.addEventListener("mouseenter",i().stopTimer),n.addEventListener("mouseleave",i().resumeTimer)}}),setInterval(()=>{this.now=new Date},1)}ngOnInit(){this.formValidation(),this.userLogin=JSON.parse(localStorage.getItem("user-login")),this.route.params.subscribe(e=>{null!=e.id&&(this.header="Edit",this.formulaService.getFormulaById(e.id).subscribe(a=>{console.log(a),this.setFormEdit(a),this.formulaDB=a,this.showSimpanEdit=!1,this.showSimpanEntry=!0},a=>{403==a.status&&this.router.navigate(["pages/forbiden"])}))})}formValidation(){this.formulaForm=new l.cw({namaFormula:new l.NI(null,[l.kI.required]),keterangan:new l.NI(null,[l.kI.required]),formula:new l.NI(null,[l.kI.required]),isMainFormula:new l.NI(null,[l.kI.required])})}form(e){return this.formulaForm.get(e)}setActiveFormula(){i().fire({title:"Loading...",allowEscapeKey:!1,allowOutsideClick:!1,timer:3e3,didOpen:()=>{i().showLoading()}}),this.formulaService.updateIsActive(this.formulaDB.idFormula).subscribe(e=>{this.Success.fire({icon:"success",timer:5e3,title:"<a style='color:#fff'>Update Formula Berhasil Disimpan.</a>"}),setTimeout(()=>{location.reload()},5e3)},e=>{this.Failed.fire({icon:"error",timer:5e3,title:"<a style='color:#fff'>Update Formula Gagal Disimpan.</a>"}),setTimeout(()=>{location.reload()},5e3),403==e.status&&this.router.navigate(["pages/forbiden"])})}submit(e){if(i().fire({title:"Loading...",allowEscapeKey:!1,allowOutsideClick:!1,timer:3e3,didOpen:()=>{i().showLoading()}}),null==this.formulaDB)this.formulaService.createFormula({namaFormula:e.namaFormula,formula:e.formula,keterangan:e.keterangan,isActive:!0,createdBy:this.userLogin.username,mainFormula:e.isMainFormula}).subscribe(o=>{this.Success.fire({icon:"success",timer:5e3,title:"<a style='color:#fff'>"+o.message+"</a>"}),setTimeout(()=>{this.router.navigate(["/master-formula/inquiry"])},5e3)},o=>{403==o.status?this.router.navigate(["pages/forbiden"]):this.Failed.fire({icon:"error",title:"<a style='color:#fff'>"+o.error.message+"</a>"})});else{let a={idFormula:this.formulaDB.idFormula,namaFormula:e.namaFormula,formula:e.formula,keterangan:e.keterangan,isActive:this.formulaDB.isActive,mainFormula:e.isMainFormula,createdBy:this.formulaDB.createdBy,createdDate:this.formulaDB.createdDate,modifiedBy:this.userLogin.username,modifiedDate:new Date};this.formulaService.editFormula(a).subscribe(o=>{this.Success.fire({icon:"success",timer:5e3,title:"<a style='color:#fff'>"+o.message+"</a>"}),setTimeout(()=>{this.router.navigate(["/master-formula/inquiry"])},5e3)},o=>{403==o.status?this.router.navigate(["pages/forbiden"]):this.Failed.fire({icon:"error",title:"<a style='color:#fff'>"+o.error.message+"</a>"})})}}gwp(){null==this.formulaForm.get("formula")?.value?this.formulaForm.get("formula").setValue("gwp"):this.formulaForm.get("formula").setValue(this.formulaForm.get("formula")?.value+" gwp")}premiNett(){null==this.formulaForm.get("formula")?.value?this.formulaForm.get("formula").setValue("premi_nett"):this.formulaForm.get("formula").setValue(this.formulaForm.get("formula")?.value+" premi_nett")}cadanganPremi(){null==this.formulaForm.get("formula")?.value?this.formulaForm.get("formula").setValue("cadangan_premi"):this.formulaForm.get("formula").setValue(this.formulaForm.get("formula")?.value+" cadangan_premi")}komisiGross(){null==this.formulaForm.get("formula")?.value?this.formulaForm.get("formula").setValue("komisi_gross"):this.formulaForm.get("formula").setValue(this.formulaForm.get("formula")?.value+" komisi_gross")}feeBased(){null==this.formulaForm.get("formula")?.value?this.formulaForm.get("formula").setValue("fee_based"):this.formulaForm.get("formula").setValue(this.formulaForm.get("formula")?.value+" fee_based")}claimSettled(){null==this.formulaForm.get("formula")?.value?this.formulaForm.get("formula").setValue("claim_settled"):this.formulaForm.get("formula").setValue(this.formulaForm.get("formula")?.value+" claim_settled")}osKlaim(){null==this.formulaForm.get("formula")?.value?this.formulaForm.get("formula").setValue("os_klaim"):this.formulaForm.get("formula").setValue(this.formulaForm.get("formula")?.value+" os_klaim")}claimPaid(){null==this.formulaForm.get("formula")?.value?this.formulaForm.get("formula").setValue("claim_paid"):this.formulaForm.get("formula").setValue(this.formulaForm.get("formula")?.value+" claim_paid")}claimIncurred(){null==this.formulaForm.get("formula")?.value?this.formulaForm.get("formula").setValue("claim_incurred"):this.formulaForm.get("formula").setValue(this.formulaForm.get("formula")?.value+" claim_incurred")}claimIbnr(){null==this.formulaForm.get("formula")?.value?this.formulaForm.get("formula").setValue("claim_ibnr"):this.formulaForm.get("formula").setValue(this.formulaForm.get("formula")?.value+" claim_ibnr")}recoveriesGross(){null==this.formulaForm.get("formula")?.value?this.formulaForm.get("formula").setValue("recoveries_gross"):this.formulaForm.get("formula").setValue(this.formulaForm.get("formula")?.value+" recoveries_gross")}recoveriesNett(){null==this.formulaForm.get("formula")?.value?this.formulaForm.get("formula").setValue("recoveries_nett"):this.formulaForm.get("formula").setValue(this.formulaForm.get("formula")?.value+" recoveries_nett")}addPlus(){null!=this.formulaForm.get("formula")?.value&&this.formulaForm.get("formula").setValue(this.formulaForm.get("formula")?.value+" +")}addMinus(){null!=this.formulaForm.get("formula")?.value&&this.formulaForm.get("formula").setValue(this.formulaForm.get("formula")?.value+" -")}addKali(){null!=this.formulaForm.get("formula")?.value&&this.formulaForm.get("formula").setValue(this.formulaForm.get("formula")?.value+" *")}addBagi(){null!=this.formulaForm.get("formula")?.value&&this.formulaForm.get("formula").setValue(this.formulaForm.get("formula")?.value+" /")}addBuka(){null==this.formulaForm.get("formula")?.value?this.formulaForm.get("formula").setValue("("):this.formulaForm.get("formula").setValue(this.formulaForm.get("formula")?.value+" (")}addTutup(){null!=this.formulaForm.get("formula")?.value&&this.formulaForm.get("formula").setValue(this.formulaForm.get("formula")?.value+" )")}delete(){var e=this.formulaForm.get("formula")?.value.split(" ");e=e.slice(0,e.length-1),this.formulaForm.get("formula").setValue(e.toString().replaceAll(","," "))}setFormEdit(e){this.formulaForm.get("namaFormula").setValue(e.namaFormula),this.formulaForm.get("keterangan").setValue(e.keterangan),this.formulaForm.get("formula").setValue(e.formula),this.formulaForm.get("isMainFormula").setValue(e.mainFormula),e.active?this.showSetNonActive=!1:this.showSetActive=!1}}return r.\u0275fac=function(e){return new(e||r)(t.Y36(l.qu),t.Y36(p.gz),t.Y36(v),t.Y36(p.F0))},r.\u0275cmp=t.Xpm({type:r,selectors:[["app-formula-page"]],decls:116,vars:15,consts:[[1,"breadcrumb-header","justify-content-between"],[1,"my-auto"],[1,"d-flex"],[1,"content-title","mb-0","my-auto",3,"routerLink"],[1,"text-muted","mt-1","tx-13","ms-2","mb-0"],[1,"content-title","mb-0","my-auto"],[1,"row","row-sm"],[1,"col-xl-12"],[1,"card","mg-b-20"],[1,"card-header","pb-0"],[1,"card-body"],["method","POST",1,"form-horizontal","was-validated",3,"formGroup","ngSubmit"],[1,"col-md-12","col-xl-12","col-xs-12","col-sm-12"],[1,"card"],[1,"card-body","pt-3"],[1,"row"],[1,"col-2","pt-1"],[1,"col-10","form-group"],["type","search","aria-controls","datatable","name","namaFormula","formControlName","namaFormula","required","",1,"form-control","form-control","field"],["type","search","aria-controls","datatable","name","keterangan","formControlName","keterangan","required","",1,"form-control","form-control","field",2,"height","60px"],["type","search","aria-controls","datatable","id","formula","name","formula","formControlName","formula","readonly","","required","",1,"form-control","form-control","field",2,"height","60px","font-style","italic"],[1,"col",2,"margin-bottom","10px"],[2,"font-style","oblique"],[1,"row","form-control","field",2,"margin-left","1px"],[1,"col"],["type","button",1,"btn","btn-sm","btn-warning","mr-1","mb-1","shadow",3,"click"],["type","button",1,"btn","btn-sm","btn-warning","mb-1","ms-2","shadow",3,"click"],["type","button",1,"btn","btn-sm","btn-success","mr-1","mb-1","shadow",3,"click"],["type","button",1,"btn","btn-sm","btn-success","mb-1","ms-2","shadow",3,"click"],["type","button",1,"btn","btn-sm","btn-info","mr-1","mb-1","shadow",3,"click"],["type","button",1,"btn","btn-sm","btn-info","mb-1","ms-2","shadow",3,"click"],["type","button",1,"btn","btn-sm","btn-secondary","mr-1","mb-1","shadow",3,"click"],["type","button",1,"btn","btn-sm","btn-secondary","mb-1","ms-2","shadow",3,"click"],["type","button",1,"btn","btn-sm","btn-error","mb-1","ms-2","shadow",2,"background-color","rgb(227, 55, 55)","color","white",3,"click"],[1,"col-1","pt-1"],[1,"switch",2,"width","37px","margin-left","-25px"],["type","checkbox","id","isMainFormula","name","isMainFormula","formControlName","isMainFormula"],[1,"slider","round"],[1,"col","pt-1"],[1,"form-group","mb-0","mt-3","justify-content-end"],["type","submit",1,"btn","btn-primary","btn-sm","mr-1","mb-1",3,"hidden","disabled"],["type","button",1,"btn","btn-success","btn-sm","mb-1","ms-2",3,"hidden","click"],["type","button",1,"btn-warning","btn","mb-1","ms-2","btn-sm",2,"float","right",3,"routerLink"]],template:function(e,a){1&e&&(t.TgZ(0,"div",0)(1,"div",1)(2,"div",2)(3,"h4",3),t._uU(4,"Master Setting Formula "),t.qZA(),t.TgZ(5,"span",4),t._uU(6),t.qZA()()(),t.TgZ(7,"div",1)(8,"div",2),t._UZ(9,"h4",5),t.TgZ(10,"span",4),t._uU(11),t.ALo(12,"date"),t.qZA()()()(),t.TgZ(13,"div",6)(14,"div",7)(15,"div",8)(16,"div",9),t._UZ(17,"div"),t.qZA(),t.TgZ(18,"div",10)(19,"form",11),t.NdJ("ngSubmit",function(){return a.submit(a.formulaForm.value)}),t.TgZ(20,"div",12)(21,"div",13)(22,"div",14)(23,"div",15)(24,"label",16),t._uU(25,"Nama Formula"),t.qZA(),t.TgZ(26,"div",17),t._UZ(27,"input",18),t.qZA()(),t.TgZ(28,"div",15)(29,"label",16),t._uU(30,"Keterangan"),t.qZA(),t.TgZ(31,"div",17)(32,"textarea",19),t._uU(33,"                                    "),t.qZA()()(),t.TgZ(34,"div",15)(35,"label",16),t._uU(36,"Rumus Formula"),t.qZA(),t.TgZ(37,"div",17)(38,"textarea",20),t._uU(39,"                                    "),t.qZA()()(),t.TgZ(40,"div",15),t._UZ(41,"label",16),t.TgZ(42,"div",17)(43,"div",21)(44,"h6",22),t._uU(45,"Tombol Formula"),t.qZA()(),t.TgZ(46,"div",23)(47,"div",24)(48,"button",25),t.NdJ("click",function(){return a.gwp()}),t._uU(49,"GWP"),t.qZA(),t.TgZ(50,"button",26),t.NdJ("click",function(){return a.premiNett()}),t._uU(51,"Premi Nett"),t.qZA(),t.TgZ(52,"button",26),t.NdJ("click",function(){return a.cadanganPremi()}),t._uU(53,"Cadangan Premi"),t.qZA(),t.TgZ(54,"button",26),t.NdJ("click",function(){return a.komisiGross()}),t._uU(55,"Komisi Gross"),t.qZA(),t.TgZ(56,"button",26),t.NdJ("click",function(){return a.feeBased()}),t._uU(57,"Fee Based"),t.qZA()(),t.TgZ(58,"div",24)(59,"button",27),t.NdJ("click",function(){return a.claimSettled()}),t._uU(60,"Claim Settled"),t.qZA(),t.TgZ(61,"button",28),t.NdJ("click",function(){return a.osKlaim()}),t._uU(62,"OS Klaim"),t.qZA(),t.TgZ(63,"button",28),t.NdJ("click",function(){return a.claimPaid()}),t._uU(64,"Claim Paid"),t.qZA(),t.TgZ(65,"button",28),t.NdJ("click",function(){return a.claimIncurred()}),t._uU(66,"Claim Incurred"),t.qZA(),t.TgZ(67,"button",28),t.NdJ("click",function(){return a.claimIbnr()}),t._uU(68,"Claim IBNR"),t.qZA()(),t.TgZ(69,"div",24)(70,"button",29),t.NdJ("click",function(){return a.recoveriesGross()}),t._uU(71,"Recoveries Gross"),t.qZA(),t.TgZ(72,"button",30),t.NdJ("click",function(){return a.recoveriesNett()}),t._uU(73,"Recoveries Nett"),t.qZA()(),t.TgZ(74,"div",24)(75,"button",31),t.NdJ("click",function(){return a.addPlus()}),t._uU(76,"+"),t.qZA(),t.TgZ(77,"button",32),t.NdJ("click",function(){return a.addMinus()}),t._uU(78,"-"),t.qZA(),t.TgZ(79,"button",32),t.NdJ("click",function(){return a.addKali()}),t._uU(80,"X"),t.qZA(),t.TgZ(81,"button",32),t.NdJ("click",function(){return a.addBagi()}),t._uU(82,":"),t.qZA(),t.TgZ(83,"button",32),t.NdJ("click",function(){return a.addBuka()}),t.TgZ(84,"span"),t._uU(85,"("),t.qZA()(),t.TgZ(86,"button",32),t.NdJ("click",function(){return a.addTutup()}),t.TgZ(87,"span"),t._uU(88,")"),t.qZA()(),t.TgZ(89,"button",33),t.NdJ("click",function(){return a.delete()}),t.TgZ(90,"span"),t._uU(91,"DELETE"),t.qZA()()()()()(),t.TgZ(92,"div",15)(93,"label",16),t._uU(94,"Formula Utama"),t.qZA(),t.TgZ(95,"div",17)(96,"div",15)(97,"p",34),t._uU(98,"Tidak"),t.qZA(),t.TgZ(99,"label",35),t._UZ(100,"input",36)(101,"span",37),t.qZA(),t.TgZ(102,"p",38),t._uU(103,"Ya"),t.qZA()()()()()(),t.TgZ(104,"div",39)(105,"div",24)(106,"button",40),t._uU(107,"Simpan"),t.qZA(),t.TgZ(108,"button",40),t._uU(109,"Simpan"),t.qZA(),t.TgZ(110,"button",41),t.NdJ("click",function(){return a.setActiveFormula()}),t._uU(111,"Set Aktif"),t.qZA(),t.TgZ(112,"button",41),t.NdJ("click",function(){return a.setActiveFormula()}),t._uU(113,"Set Inaktif"),t.qZA(),t.TgZ(114,"button",42),t._uU(115,"Kembali"),t.qZA()()()()()()()()()),2&e&&(t.xp6(3),t.Q6J("routerLink",t.DdM(14,Z)),t.xp6(3),t.hij("/ ",a.header,""),t.xp6(5),t.Oqu(t.xi3(12,11,a.now,"dd/MM/yyyy hh:mm:ss")),t.xp6(8),t.Q6J("formGroup",a.formulaForm),t.xp6(87),t.Q6J("hidden",a.showSimpanEntry)("disabled",a.formulaForm.invalid),t.xp6(2),t.Q6J("hidden",a.showSimpanEdit)("disabled",a.formulaForm.invalid),t.xp6(2),t.Q6J("hidden",a.showSetActive),t.xp6(2),t.Q6J("hidden",a.showSetNonActive),t.xp6(2),t.Q6J("routerLink","/master-formula/inquiry"))},dependencies:[p.rH,l._Y,l.Fj,l.Wl,l.JJ,l.JL,l.Q7,l.sg,l.u,g.uU],styles:['.shadow[_ngcontent-%COMP%]{box-shadow:0 8px 16px #0003,0 6px 20px #00000030}.switch[_ngcontent-%COMP%]{position:relative;display:inline-block;width:40px;height:20px}.switch[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{opacity:0;width:0;height:0}.slider[_ngcontent-%COMP%]{position:absolute;cursor:pointer;top:0;left:0;right:-3px;bottom:0;background-color:#ccc;transition:.4s}.slider[_ngcontent-%COMP%]:before{position:absolute;content:"";height:16px;width:16px;left:3px;bottom:2px;background-color:#fff;transition:.4s}.slider[_ngcontent-%COMP%]{background-color:#ec2e2e}input[_ngcontent-%COMP%]:checked + .slider[_ngcontent-%COMP%]{background-color:#37dd04}input[_ngcontent-%COMP%]:focus + .slider[_ngcontent-%COMP%]{box-shadow:0 0 1px #ec2e2e}input[_ngcontent-%COMP%]:checked + .slider[_ngcontent-%COMP%]:before{transform:translate(18px)}.slider.round[_ngcontent-%COMP%]{border-radius:23px}.slider.round[_ngcontent-%COMP%]:before{border-radius:50%}.my-button[_ngcontent-%COMP%]:hover{background-color:#2980b9}']}),r})();var y=u(2752),f=u(9585);function x(r,s){if(1&r&&t._uU(0),2&r){const e=s.rowIndex,a=t.oxw();t.hij(" ",e+1+10*(a.page-1)," ")}}function C(r,s){if(1&r){const e=t.EpF();t.TgZ(0,"button",32),t.NdJ("click",function(){const d=t.CHM(e).row,n=t.oxw();return t.KtG(n.editFormula(d.idFormula))}),t._UZ(1,"i",33),t.qZA()}}function A(r,s){1&r&&(t.TgZ(0,"div")(1,"label"),t._uU(2," Aktif "),t.qZA()())}function q(r,s){1&r&&(t.TgZ(0,"label"),t._uU(1," Tidak Aktif "),t.qZA())}function U(r,s){if(1&r&&(t.YNc(0,A,3,0,"div",34),t.YNc(1,q,2,0,"ng-template",null,35,t.W1O)),2&r){const e=s.row,a=t.MAs(2);t.Q6J("ngIf",e.active)("ngIfElse",a)}}function I(r,s){if(1&r){const e=t.EpF();t.TgZ(0,"div",36),t._uU(1),t.qZA(),t.TgZ(2,"datatable-pager",37),t.NdJ("change",function(o){t.CHM(e);const d=t.oxw();return t.KtG(d.onPageChange(o))}),t.qZA()}if(2&r){const e=t.oxw();t.xp6(1),t.hij(" Total : ",e.keseluruhan," "),t.xp6(1),t.Q6J("pagerLeftArrowIcon","datatable-icon-left")("pagerRightArrowIcon","datatable-icon-right")("pagerPreviousIcon","datatable-icon-prev")("pagerNextIcon","datatable-icon-skip")("page",1)("size",10)("count",e.totalElements)}}const M=function(){return["/master-formula/entry"]},P=[{path:"",children:[{path:"entry",title:"Portal Evaluasi Kerjasama - Master Formula",component:k},{path:"edit/:id",title:"Portal Evaluasi Kerjasama - Master Formula",component:k},{path:"inquiry",title:"Portal Evaluasi Kerjasama - Master Formula",component:(()=>{class r{constructor(e,a){this.tableService=e,this.router=a,this.now=new Date,this.dataTable=y.a,this.page=1,this.size=10,this.isFilter=!1,this.namaFormula="",this.row=[],this.isFilterCollapsed=!0,this.entries=10,setInterval(()=>{this.now=new Date},1)}ngOnInit(){this.onGetDataFormula(),this.buildFilterForm()}ngAfterViewInit(){}onActivate(e){}buildFilterForm(){this.filterForm=new l.cw({namaFormula:new l.NI("")})}submitFilter(e){this.page=1,this.namaFormula=e.namaFormula,console.log("nama formula "+this.namaFormula),this.onGetDataFormula()}resetFilter(){this.page=1,this.filterForm.get("namaFormula")?.setValue(null),this.namaFormula="",this.onGetDataFormula()}onPageChange(e){this.page=e.page,i().fire({title:"Loading",allowOutsideClick:!1,didOpen:()=>{i().showLoading()}}),this.tableService.getDataFormula(this.namaFormula,this.page,this.size).subscribe(a=>{i().close(),this.row=a.data[0].content,this.totalElements=a.data[0].totalElements,this.keseluruhan=a.data[0].totalElements},a=>{i().close(),this.row=[],i().fire({title:"Load Data Failed",text:"Gagal Memuat Data Formula",icon:"error",timer:5e3,timerProgressBar:!0})})}onGetDataFormula(){i().fire({title:"Loading",allowOutsideClick:!1,didOpen:()=>{i().showLoading()}}),this.tableService.getDataFormula(this.namaFormula,this.page,this.size).subscribe(e=>{i().close(),this.row=e.data[0].content,this.totalElements=e.data[0].totalElements,this.keseluruhan=e.data[0].totalElements},e=>{i().close(),this.row=[],i().fire({title:"Load Data Failed",text:"Gagal Memuat Data Formula",icon:"error",timer:5e3,timerProgressBar:!0})})}editFormula(e){this.router.navigate(["master-formula/edit/"+e])}}return r.\u0275fac=function(e){return new(e||r)(t.Y36(v),t.Y36(p.F0))},r.\u0275cmp=t.Xpm({type:r,selectors:[["app-inquiry"]],decls:51,vars:19,consts:[[1,"breadcrumb-header","justify-content-between"],[1,"my-auto"],[1,"d-flex"],[1,"content-title","mb-0","my-auto"],[1,"text-muted","mt-1","tx-13","ms-2","mb-0"],[1,"row","row-sm"],[1,"col-xl-12"],[1,"card","mg-b-20"],[1,"card-header","pb-10"],[1,"main-content-label","mb-1",2,"margin-left","-4px"],[1,"card-body","pt-0"],[1,"form-horizontal"],[1,"row"],[1,"col-12","form-group"],["method","POST",3,"formGroup","ngSubmit"],[1,"col-1","form-control-sm","pt-1"],[1,"col-4","form-group"],["type","text","id","namaFormula","name","namaFormula","formControlName","namaFormula","placeholder","Nama Formula",1,"form-control","form-control-sm"],["data-toggle","tooltip","data-placement","bottom","title","Cari",1,"btn","btn-warning","mr-1","mb-1","btn-sm",3,"disabled"],[1,"bx","bx-search-alt-2"],["type","button","data-toggle","tooltip","data-placement","bottom","title","Reset Pencarian",1,"btn","btn-danger","mb-1","ms-2","btn-sm",3,"click"],[1,"bx","bx-reset"],["type","button","data-toggle","tooltip","data-placement","bottom","title","Tambah Formula",1,"btn","btn-primary","mb-1","ms-2","btn-sm",3,"routerLink"],[1,"bx","bx-add-to-queue"],[1,"card-body"],[1,"material",2,"font-size","8px","height","auto",3,"rows","columnMode","headerHeight","footerHeight","rowHeight","scrollbarH","limit"],["name","No","prop","partnerTypeId",3,"maxWidth"],["ngx-datatable-cell-template",""],["name","Aksi",3,"maxWidth"],["name","Nama Formula","prop","namaFormula",3,"width"],["name","Status",3,"width"],["ngx-datatable-footer-template",""],["type","button","data-toggle","tooltip","data-placement","bottom","title","Edit",1,"btn","btn-success","btn-sm",3,"click"],[1,"bx","bx-pencil"],[4,"ngIf","ngIfElse"],["notShow",""],[2,"padding-left","10px"],[3,"pagerLeftArrowIcon","pagerRightArrowIcon","pagerPreviousIcon","pagerNextIcon","page","size","count","change"]],template:function(e,a){1&e&&(t.TgZ(0,"div",0)(1,"div",1)(2,"div",2)(3,"h4",3),t._uU(4,"Master Formula"),t.qZA()()(),t.TgZ(5,"div",1)(6,"div",2),t._UZ(7,"h4",3),t.TgZ(8,"span",4),t._uU(9),t.ALo(10,"date"),t.qZA()()()(),t.TgZ(11,"div",5)(12,"div",6)(13,"div",7)(14,"div",8)(15,"div")(16,"h6",9),t._uU(17,"Daftar Formula"),t.qZA()()(),t.TgZ(18,"div",10)(19,"form",11)(20,"div",12)(21,"div",13)(22,"form",14),t.NdJ("ngSubmit",function(){return a.submitFilter(a.filterForm.value)}),t.TgZ(23,"div",12)(24,"label",15),t._uU(25,"Nama Formula"),t.qZA(),t.TgZ(26,"div",16),t._UZ(27,"input",17),t.qZA()(),t.TgZ(28,"div",12),t._UZ(29,"label",15),t.TgZ(30,"div",16)(31,"button",18),t._UZ(32,"i",19),t._uU(33,"\xa0Cari"),t.qZA(),t.TgZ(34,"button",20),t.NdJ("click",function(){return a.resetFilter()}),t._UZ(35,"i",21),t._uU(36,"\xa0Reset"),t.qZA(),t.TgZ(37,"button",22),t._UZ(38,"i",23),t._uU(39,"\xa0Tambah Formula"),t.qZA()()()()()()()(),t.TgZ(40,"div",24)(41,"ngx-datatable",25)(42,"ngx-datatable-column",26),t.YNc(43,x,1,1,"ng-template",27),t.qZA(),t.TgZ(44,"ngx-datatable-column",28),t.YNc(45,C,2,0,"ng-template",27),t.qZA(),t._UZ(46,"ngx-datatable-column",29),t.TgZ(47,"ngx-datatable-column",30),t.YNc(48,U,3,2,"ng-template",27),t.qZA(),t.TgZ(49,"ngx-datatable-footer"),t.YNc(50,I,3,8,"ng-template",31),t.qZA()()()()()()),2&e&&(t.xp6(9),t.Oqu(t.xi3(10,15,a.now,"dd/MM/yyyy hh:mm:ss")),t.xp6(13),t.Q6J("formGroup",a.filterForm),t.xp6(9),t.Q6J("disabled",a.filterForm.invalid),t.xp6(6),t.Q6J("routerLink",t.DdM(18,M)),t.xp6(4),t.Q6J("rows",a.row)("columnMode","force")("headerHeight",50)("footerHeight",50)("rowHeight",50)("scrollbarH",!0)("limit",-1!=a.entries?a.entries:void 0),t.xp6(1),t.Q6J("maxWidth",80),t.xp6(2),t.Q6J("maxWidth",150),t.xp6(2),t.Q6J("width",100),t.xp6(1),t.Q6J("width",100))},dependencies:[g.O5,p.rH,f.nE,f.UC,f.vq,f.ii,f.dX,f.Ke,l._Y,l.Fj,l.JJ,l.JL,l.F,l.sg,l.u,g.uU],styles:[".rtl .ngx-datatable .datatable-footer .datatable-pager{flex:1 1 80%!important;text-align:left!important}  .mat-elevation-z8{overflow:auto}  .datatable-body{overflow:scroll;width:100%}  .dataTable-bottom{position:absolute;left:0;right:0;bottom:0;background:#fff!important}  table th,   table td,   .ngx-datatable.material .datatable-header .datatable-header-cell,   .ngx-datatable.material .datatable-body .datatable-body-row .datatable-body-cell{font-size:.876rem!important}@media (max-width: 567.9px){  .ngx-datatable .datatable-footer .datatable-footer-inner{flex-wrap:wrap;height:auto!important}  .ngx-datatable .datatable-footer .datatable-pager{text-align:center!important}}  .dataTable-wrapper.no-footer .dataTable-container{border-bottom:none!important}  .dataTable-selector{border-radius:.25rem}  app-data-table input{border-radius:25px;border:1px solid rgba(0,0,0,.1)}  app-data-table .custom-select{border:1px solid rgba(0,0,0,.24)!important;border-radius:.25rem}.table-responsive[_ngcontent-%COMP%]{overflow:visible}  .dark-theme input::placeholder{color:#fff!important}  .dark-theme app-data-tables .ngx-datatable.material{background-color:#1f2940!important}  .dark-theme app-data-tables .dataTable-bottom{background-color:#1f2940!important}  .dark-theme app-data-tables .dataTable-selector{background-color:#1f2940;border-color:#272c49;color:#fff;outline:none}  .dark-theme app-data-tables input{color:#eee!important;border-color:#262b48;border-radius:25px;height:27px}  .dark-theme app-data-tables .mat-form-field-label{left:12px!important;top:24px!important;color:#fff9}  .dark-theme app-data-tables .ngx-datatable.material .datatable-header .datatable-header-cell,   .dark-theme app-data-tables .ngx-datatable.material .datatable-body .datatable-body-row .datatable-body-cell{background-color:#1f2940;color:#fff}  .dark-theme app-data-tables .ngx-datatable.material .datatable-footer{border-top:1px solid rgb(39,43,74)!important;color:#fff!important;background:#1f2940!important}  .dark-theme app-data-tables .ngx-datatable.material .datatable-footer .datatable-pager li.disabled a{color:#fff!important;background-color:transparent!important}  .dark-theme app-data-tables .ngx-datatable.material .datatable-footer .datatable-pager li.active a{background-color:#cfd0d8!important}  .dark-theme app-data-tables .ngx-datatable.material .datatable-footer .datatable-pager a{color:#fff!important}  .dark-theme app-data-tables .ngx-datatable.material .datatable-header{border-bottom:1px solid #32394e!important}  .dark-theme app-data-tables .dataTable-pagination li a{color:#ccc}  .dark-theme app-data-tables .dataTable-pagination li:hover a,   .dark-theme app-data-tables .dataTable-pagination li.active a{color:#333}  .dark-theme app-data-tables .dataTable-sorter:after{border-bottom:4px solid #fff}  .dark-theme app-data-tables .dataTable-sorter:before{border-top:4px solid #fff}  .dark-theme app-data-tables .mat-table{background:#1f2940!important}  .dark-theme app-data-tables .mat-header-cell{color:#fff!important}  .dark-theme app-data-tables .mat-cell,   .dark-theme app-data-tables .mat-footer-cell{color:#eee!important}  .dark-theme app-data-tables mat-row,   .dark-theme app-data-tables mat-header-row,   .dark-theme app-data-tables mat-footer-row,   .dark-theme app-data-tables th.mat-header-cell,   .dark-theme app-data-tables td.mat-cell,   .dark-theme app-data-tables td.mat-footer-cell{border-bottom-color:#ffffff1f!important}  .dark-theme app-data-tables .mat-checkbox-frame{border-color:#fff9}  .dark-theme app-data-tables .mat-paginator,   .dark-theme app-data-tables .mat-paginator-page-size .mat-select-trigger{color:#ffffff8a!important}  .dark-theme app-data-tables .mat-paginator{background:#1f2940}  .dark-theme app-data-tables .mat-select-value{color:#fff7f7de}  .dark-theme app-data-tables .mat-select-arrow{color:#ffffffba}  .dark-theme .mat-select-panel{background:#30304d}  .dark-theme .mat-option{color:#ccc}  .dark-theme .mat-primary .mat-option.mat-selected:not(.mat-option-disabled){color:#fff}  .dark-theme .mat-option:hover:not(.mat-option-disabled),   .dark-theme .mat-option:focus:not(.mat-option-disabled){background:rgb(42,42,68)}  .dark-theme .mat-select-panel .mat-option.mat-selected:not(.mat-option-multiple){background:rgba(0,0,0,.12)}  .dark-theme .table-hover>tbody>tr:hover>*{color:#fff}  .dark-theme .table-striped>tbody>tr:nth-of-type(odd)>*{color:#ccc}  .dark-theme .ng-select .ng-select-container{color:#efefef!important}  .transparent-theme input::placeholder{color:#fff!important}  .transparent-theme app-data-tables .ngx-datatable.material{background-color:#0b5bc9!important}  .transparent-theme app-data-tables .dataTable-bottom{background-color:#0b5bc9!important}  .transparent-theme app-data-tables .dataTable-selector{background-color:#0b5bc9;border-color:#0b5bc9;color:#fff;outline:none}  .transparent-theme app-data-tables input{color:#eee!important;background-color:#0b5bc9!important;border-color:#0b5bc9;border-radius:25px;height:27px}  .transparent-theme app-data-tables .mat-form-field-label{left:12px!important;top:24px!important;color:#fff9}  .transparent-theme app-data-tables .ngx-datatable.material .datatable-header .datatable-header-cell,   .transparent-theme app-data-tables .ngx-datatable.material .datatable-body .datatable-body-row .datatable-body-cell{background-color:#0b5bc9;color:#fff}  .transparent-theme app-data-tables .ngx-datatable.material .datatable-footer{border-top:1px solid #0b5bc9!important;color:#fff!important;background:#0b5bc9!important}  .transparent-theme app-data-tables .ngx-datatable.material .datatable-footer .datatable-pager li.disabled a{color:#fff!important;background-color:transparent!important}  .transparent-theme app-data-tables .ngx-datatable.material .datatable-footer .datatable-pager li.active a{background-color:#cfd0d8!important}  .transparent-theme app-data-tables .ngx-datatable.material .datatable-footer .datatable-pager a{color:#fff!important}  .transparent-theme app-data-tables .ngx-datatable.material .datatable-header{border-bottom:1px solid #0b5bc9!important}  .transparent-theme app-data-tables .dataTable-pagination li a{color:#ccc}  .transparent-theme app-data-tables .dataTable-pagination li:hover a,   .transparent-theme app-data-tables .dataTable-pagination li.active a{color:#333}  .transparent-theme app-data-tables .dataTable-sorter:after{border-bottom:4px solid #fff}  .transparent-theme app-data-tables .dataTable-sorter:before{border-top:4px solid #fff}  .transparent-theme app-data-tables .mat-table{background:#0b5bc9!important}  .transparent-theme app-data-tables .mat-header-cell{color:#fff!important}  .transparent-theme app-data-tables .mat-cell,   .transparent-theme app-data-tables .mat-footer-cell{color:#eee!important}  .transparent-theme app-data-tables mat-row,   .transparent-theme app-data-tables mat-header-row,   .transparent-theme app-data-tables mat-footer-row,   .transparent-theme app-data-tables th.mat-header-cell,   .transparent-theme app-data-tables td.mat-cell,   .transparent-theme app-data-tables td.mat-footer-cell{border-bottom-color:#ffffff1f!important}  .transparent-theme app-data-tables .mat-checkbox-frame{border-color:#fff9}  .transparent-theme app-data-tables .mat-paginator,   .transparent-theme app-data-tables .mat-paginator-page-size .mat-select-trigger{color:#ffffff8a!important}  .transparent-theme app-data-tables .mat-paginator{background:#0b5bc9}  .transparent-theme app-data-tables .mat-select-value{color:#fff7f7de}  .transparent-theme app-data-tables .mat-select-arrow{color:#ffffffba}  .transparent-theme .mat-select-panel{background:#30304d}  .transparent-theme .mat-option{color:#ccc}  .transparent-theme .mat-primary .mat-option.mat-selected:not(.mat-option-disabled){color:#fff}  .transparent-theme .mat-option:hover:not(.mat-option-disabled),   .transparent-theme .mat-option:focus:not(.mat-option-disabled){background:rgb(42,42,68)}  .transparent-theme .mat-select-panel .mat-option.mat-selected:not(.mat-option-multiple){background:rgba(0,0,0,.12)}  .transparent-theme .table-hover>tbody>tr:hover>*{color:#fff}  .transparent-theme .table-striped>tbody>tr:nth-of-type(odd)>*{color:#ccc}  .transparent-theme .ng-select .ng-select-container{color:#efefef!important}  .transparent-theme .table-striped>tbody>tr:nth-of-type(2n+1)>*{background-color:#0b5bc9!important}"]}),r})()}]}];let N=(()=>{class r{}return r.\u0275fac=function(e){return new(e||r)},r.\u0275mod=t.oAB({type:r}),r.\u0275inj=t.cJS({imports:[p.Bz.forChild(P),p.Bz]}),r})();var S=u(4466),J=u(4212),O=u(8796),D=u(3333);let V=(()=>{class r{}return r.\u0275fac=function(e){return new(e||r)},r.\u0275mod=t.oAB({type:r}),r.\u0275inj=t.cJS({imports:[g.ez,N,g.ez,S.SharedModule,J.x,O.A0,f.xD,D.IJ,l.u5,l.UX]}),r})()}}]);