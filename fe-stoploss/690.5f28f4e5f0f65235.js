"use strict";(self.webpackChunkvalex=self.webpackChunkvalex||[]).push([[690],{2690:(da,I,i)=>{i.r(I),i.d(I,{UploadIbnrModule:()=>ia});var u=i(6895),x=i(8317),n=i(4006),V=i(5226),l=i.n(V),a=i(4650),b=i(529),T=i(8306);let B=(()=>{class o{constructor(t){this.httpClient=t}uploadPreview(t,e,d,s){const p=localStorage.getItem("token");var c=new Headers;c.append("Authorization",p),c.append("Content-Type","multipart/form-data");let w={Authorization:p};var h=new FormData;h.append("bulan",e),h.append("tahun",d),h.append("fileUpload",t,t.fileName),h.append("createdBy",s);var v={headers:new b.WM(w)};return new T.y(k=>{this.httpClient.post("/api/api/v1/upload/preview",h,v).subscribe(g=>{k.next(g),console.log("sampe sini")},g=>{k.error(g),console.log("sampe sini")})})}getDataCadanganIbnr(t,e,d,s,p,c,w){let v={Authorization:localStorage.getItem("token")},k={headers:new b.WM(v)};var g={kodeBank:t,namaBank:e,bulan:d,tahun:s,noPks:p};return new T.y(C=>{this.httpClient.post(`/api/api/v1/upload/cadanganibnrs?page=${c}&size=${w}`,g,k).subscribe(f=>{C.next(f)},f=>{C.error(f)})})}uploadIBNR(t){let d={Authorization:localStorage.getItem("token")},s={headers:new b.WM(d)};return new T.y(p=>{this.httpClient.post("/api/api/v1/upload/cadangan",t,s).subscribe(c=>{p.next(c)},c=>{p.error(c)})})}getMasterBank(){let e={Authorization:localStorage.getItem("token")},d={headers:new b.WM(e)};return new T.y(s=>{this.httpClient.get("/api/api/v1/master/bank",d).subscribe(p=>{s.next(p)},p=>{s.error(p)})})}exportDataCadangan(t,e,d,s,p,c,w){let v={Authorization:localStorage.getItem("token")},k={headers:new b.WM(v),responseType:"blob"};var g={kodeBank:t,namaBank:e,bulan:d,tahun:s,noPks:p};return new T.y(C=>{this.httpClient.post("/api/api/v1/upload/export",g,k).subscribe(f=>{const _=[];_.push(f);const Z=document.createElement("a");Z.href=window.URL.createObjectURL(new Blob(_,{type:"application/vnd.openxmlformats-officedocument.spreadsheetml.sheet"})),Z.setAttribute("download","Upload IBNR "+new Date),document.body.appendChild(Z),Z.click()},f=>C.error(f.message),()=>console.info("File downloaded successfully"))})}}return o.\u0275fac=function(t){return new(t||o)(a.LFG(b.eN))},o.\u0275prov=a.Yz7({token:o,factory:o.\u0275fac,providedIn:"root"}),o})();var A=i(5419),U=i(8207),m=i(9585);function N(o,r){if(1&o&&(a.TgZ(0,"option",45),a._uU(1),a.qZA()),2&o){const t=r.$implicit,e=a.oxw();a.Q6J("ngValue",t.Value)("selected",t.Text===e.bulan),a.xp6(1),a.hij(" ",t.Text," ")}}function D(o,r){if(1&o&&(a.TgZ(0,"option",45),a._uU(1),a.qZA()),2&o){const t=r.$implicit,e=a.oxw();a.Q6J("ngValue",t.Value)("selected",t.Text===e.tahun),a.xp6(1),a.hij(" ",t.Text," ")}}function J(o,r){if(1&o&&(a.TgZ(0,"div",46),a._uU(1),a.ALo(2,"currency"),a.qZA()),2&o){const t=r.row;a.xp6(1),a.hij(" ",a.gM2(2,1,t.amtCadanganPremi,"IDR","symbol","3.0")," ")}}function F(o,r){if(1&o&&(a.TgZ(0,"div",46),a._uU(1),a.qZA()),2&o){const t=a.oxw();a.xp6(1),a.hij(" Total : ",t.keseluruhanListPks," ")}}function L(o,r){1&o&&(a.TgZ(0,"div",38)(1,"p",47),a._uU(2,' *Klik tombol "Simpan" untuk menyimpan data cadangan IBNR.'),a.qZA()())}function M(o,r){if(1&o&&(a.TgZ(0,"div",46),a._uU(1),a.qZA()),2&o){const t=a.oxw();a.xp6(1),a.hij(" Total : ",t.keseluruhanListPks," ")}}const y=function(){return["/upload-data-cadangan/inquiry"]};let S=(()=>{class o{constructor(t,e,d,s){this.uploadIbrnService=t,this.router=e,this.fb=d,this.curencyPipe=s,this.now=new Date,this.dataTable=[],this.dataTableSimpan=[],this.isError=!1,this.bulan="",this.tahun="",this.isNeedSimpan=!1,this.monthList=[{Value:1,Text:"Januari"},{Value:2,Text:"Februari"},{Value:3,Text:"Maret"},{Value:4,Text:"April"},{Value:5,Text:"May"},{Value:6,Text:"Juni"},{Value:7,Text:"Juli"},{Value:8,Text:"Augustus"},{Value:9,Text:"September"},{Value:10,Text:"Oktober"},{Value:11,Text:"November"},{Value:12,Text:"Desember"}],this.yearList=[{Value:2015,Text:"2015"},{Value:2016,Text:"2016"},{Value:2017,Text:"2017"},{Value:2018,Text:"2018"},{Value:2019,Text:"2019"},{Value:2020,Text:"2020"},{Value:2021,Text:"2021"},{Value:2022,Text:"2022"},{Value:2023,Text:"2023"},{Value:2024,Text:"2024"},{Value:2025,Text:"2025"}],this.Success=l().mixin({toast:!0,width:"400px",position:"top-end",background:"#55efc4",iconColor:"#fff",showConfirmButton:!1,timer:1600,didOpen:p=>{p.addEventListener("mouseenter",l().stopTimer),p.addEventListener("mouseleave",l().resumeTimer)}}),this.Failed=l().mixin({toast:!0,width:"400px",position:"top-end",background:"#ff7675",iconColor:"#fff",showConfirmButton:!1,timer:4e3,didOpen:p=>{p.addEventListener("mouseenter",l().stopTimer),p.addEventListener("mouseleave",l().resumeTimer)}}),this.Required=l().mixin({toast:!0,width:"400px",position:"top-end",background:"#fab1a0",iconColor:"#fff",showConfirmButton:!1,timer:4e3,didOpen:p=>{p.addEventListener("mouseenter",l().stopTimer),p.addEventListener("mouseleave",l().resumeTimer)}}),setInterval(()=>{this.now=new Date},1),this.dataTable=[]}ngOnInit(){this.userLogin=JSON.parse(localStorage.getItem("user-login")),this.formValidation()}formValidation(){this.uploadForm=this.fb.group({bulan:new n.NI(null,[n.kI.required]),tahun:new n.NI(null,[n.kI.required]),file:new n.NI(null,[n.kI.required])})}form(t){return this.uploadForm.get(t)}onFileSelect(t){t.target.files[0].size<=1e7?t.target.files.length>0&&(this.file=t.target.files[0]):this.Failed.fire({icon:"error",title:"<a style='color:#fff'>File yang diupload tidak boleh melebihi 10Mb.</a>"})}submit(t){this.uploadIbrnService.uploadPreview(this.file,parseInt(t.bulan),parseInt(t.tahun),this.userLogin.username).subscribe(e=>{console.log(e),0!=e.data[0].cadanganIbnrEntities.length?(this.keseluruhanListPks=e.data[0].cadanganIbnrEntities.length,this.isError=!1,this.dataTable=e.data[0].cadanganIbnrEntities,this.isNeedSimpan=!0):0!=e.data[0].responseValidasiErrorList.length&&(this.keseluruhanListPks=e.data[0].responseValidasiErrorList.length,this.isError=!0,this.dataTable=e.data[0].responseValidasiErrorList)},e=>{403==e.status&&this.router.navigate(["pages/forbiden"])})}simpanIBNR(){l().fire({title:"Loading...",allowEscapeKey:!1,allowOutsideClick:!1,timer:3e3,didOpen:()=>{l().showLoading()}}),0==this.dataTable.length?this.Failed.fire({icon:"error",title:"<a style='color:#fff'>Data cadangan tidak boleh kosong!</a>"}):(console.log(this.dataTableSimpan),this.uploadIbrnService.uploadIBNR(this.dataTable).subscribe(t=>{this.Success.fire({icon:"success",timer:5e3,title:"<a style='color:#fff'>Upload Data Cadangan berhasil!</a>"}),setTimeout(()=>{location.reload()},5e3)},t=>{403==t.status&&this.router.navigate(["pages/forbiden"])}))}}return o.\u0275fac=function(t){return new(t||o)(a.Y36(B),a.Y36(x.F0),a.Y36(n.qu),a.Y36(A.m))},o.\u0275cmp=a.Xpm({type:o,selectors:[["app-upload-ibnr-page"]],decls:86,vars:31,consts:[[1,"breadcrumb-header","justify-content-between"],[1,"my-auto"],[1,"d-flex"],[1,"content-title","mb-0","my-auto",3,"routerLink"],[1,"text-muted","mt-1","tx-13","ms-2","mb-0"],[1,"content-title","mb-0","my-auto"],[1,"row","row-sm"],[1,"col-xl-12"],[1,"card","mg-b-20"],[1,"card-header","pb-0"],["method","POST",1,"form-horizontal",3,"formGroup","ngSubmit"],[1,"card-body"],[1,"col-md-12","col-xl-12","col-xs-12","col-sm-12"],[1,"card"],[1,"card-body","pt-3"],[1,"row"],[1,"col-1","form-control-sm","pt-1","required"],[1,"col-2","form-group"],["data-live-search","true","id","bulan","name","bulan","formControlName","bulan","placeholder","-Bulan-",1,"form-control","filter-input","selectpicker","form-control-sm"],["selected","","disabled","","value",""],[3,"ngValue","selected",4,"ngFor","ngForOf"],["data-live-search","true","id","tahun","name","tahun","formControlName","tahun","placeholder","-Tahun-",1,"form-control","filter-input","selectpicker","form-control-sm"],[1,"col-5","form-group"],["type","file","id","file","name","file","formControlName","file","accept",".xlsx, .xls",1,"form-control",3,"change"],["UploadFileInput",""],[1,"col-1","form-control-sm","pt-1"],[1,"col-4","form-group"],["type","submit",1,"btn","btn-primary","mb-1","btn-sm",3,"disabled"],[1,"col-12","form-group"],[1,"row","form-control","field",2,"margin-left","1px","padding-bottom","40px",3,"hidden"],[1,"material",2,"font-size","8px","height","auto",3,"columnMode","headerHeight","footerHeight","rowHeight","scrollbarH","rows"],["name","Bulan","prop","bulan"],["name","Tahun","prop","tahun"],["name","No PKS","prop","noPks"],["name","Cadangan Premi","prop","amtCadanganPremi"],["ngx-datatable-footer-template",""],["name","IBNR","prop","amtIbnr"],[1,"form-group","mb-0","mt-3","justify-content-end"],[1,"col"],["type","button",1,"btn","btn-primary","btn-sm",2,"margin-bottom","10px","margin-left","-18px","margin-top","5px","float","left",3,"click"],["class","col",4,"ngIf"],["type","button",1,"btn","btn-danger","btn-sm",2,"margin-bottom","10px","margin-top","5px","float","right",3,"routerLink"],["name","No","prop","number",3,"maxWidth"],["name","Baris","prop","barisKe",3,"maxWidth"],["name","Keterangan","prop","keterangan"],[3,"ngValue","selected"],[2,"padding-left","10px"],[2,"color","red","margin-bottom","15px","padding-left","10px","margin-top","7px","float","left"]],template:function(t,e){1&t&&(a.TgZ(0,"div",0)(1,"div",1)(2,"div",2)(3,"h4",3),a._uU(4,"Data Cadangan"),a.qZA(),a.TgZ(5,"span",4),a._uU(6,"/ Upload Data Cadangan"),a.qZA()()(),a.TgZ(7,"div",1)(8,"div",2),a._UZ(9,"h4",5),a.TgZ(10,"span",4),a._uU(11),a.ALo(12,"date"),a.qZA()()()(),a.TgZ(13,"div",6)(14,"div",7)(15,"div",8),a._UZ(16,"div",9),a.TgZ(17,"form",10),a.NdJ("ngSubmit",function(){return e.submit(e.uploadForm.value)}),a.TgZ(18,"div",11)(19,"div",12)(20,"div",13)(21,"div",14)(22,"div",15)(23,"label",16),a._uU(24,"Bulan"),a.qZA(),a.TgZ(25,"div",17)(26,"select",18)(27,"option",19),a._uU(28,"Pilih Bulan"),a.qZA(),a.YNc(29,N,2,3,"option",20),a.qZA()(),a.TgZ(30,"label",16),a._uU(31,"Tahun"),a.qZA(),a.TgZ(32,"div",17)(33,"select",21)(34,"option",19),a._uU(35,"Pilih Tahun"),a.qZA(),a.YNc(36,D,2,3,"option",20),a.qZA()()(),a.TgZ(37,"div",15)(38,"label",16),a._uU(39,"File Upload"),a.qZA(),a.TgZ(40,"div",22)(41,"input",23,24),a.NdJ("change",function(s){return e.onFileSelect(s)}),a.qZA()()(),a.TgZ(43,"div",15),a._UZ(44,"label",25),a.TgZ(45,"div",26)(46,"button",27),a._uU(47,"Upload Data Cadangan IBNR"),a.qZA()()(),a._UZ(48,"hr")(49,"br"),a.TgZ(50,"div",15)(51,"div",28)(52,"div",29)(53,"h4"),a._uU(54,"Preview Cadangan IBNR"),a.qZA(),a.TgZ(55,"ngx-datatable",30),a._UZ(56,"ngx-datatable-column",31)(57,"ngx-datatable-column",32)(58,"ngx-datatable-column",33),a.TgZ(59,"ngx-datatable-column",34),a.YNc(60,J,3,6,"ng-template",35),a.qZA(),a._UZ(61,"ngx-datatable-column",36),a.TgZ(62,"ngx-datatable-footer"),a.YNc(63,F,2,1,"ng-template",35),a.qZA()(),a.TgZ(64,"div",37)(65,"div",38)(66,"button",39),a.NdJ("click",function(){return e.simpanIBNR()}),a._uU(67,"Simpan"),a.qZA()(),a.YNc(68,L,3,0,"div",40),a.TgZ(69,"div",38)(70,"button",41),a._uU(71,"Tutup"),a.qZA()()()(),a.TgZ(72,"div",29)(73,"h4"),a._uU(74,"Validasi"),a.qZA(),a.TgZ(75,"ngx-datatable",30),a._UZ(76,"ngx-datatable-column",42)(77,"ngx-datatable-column",43)(78,"ngx-datatable-column",44),a.TgZ(79,"ngx-datatable-footer"),a.YNc(80,M,2,1,"ng-template",35),a.qZA()(),a.TgZ(81,"div",37)(82,"div",38)(83,"button",41),a._uU(84,"Tutup"),a.qZA()()()()()()()()(),a._UZ(85,"div",37),a.qZA()()()()()),2&t&&(a.xp6(3),a.Q6J("routerLink",a.DdM(28,y)),a.xp6(8),a.Oqu(a.xi3(12,25,e.now,"dd/MM/yyyy hh:mm:ss")),a.xp6(6),a.Q6J("formGroup",e.uploadForm),a.xp6(12),a.Q6J("ngForOf",e.monthList),a.xp6(7),a.Q6J("ngForOf",e.yearList),a.xp6(10),a.Q6J("disabled",e.uploadForm.invalid),a.xp6(6),a.Q6J("hidden",e.isError),a.xp6(3),a.Q6J("columnMode","force")("headerHeight",50)("footerHeight",50)("rowHeight","auto")("scrollbarH",!0)("rows",e.dataTable),a.xp6(13),a.Q6J("ngIf",e.isNeedSimpan),a.xp6(2),a.Q6J("routerLink",a.DdM(29,y)),a.xp6(2),a.Q6J("hidden",!e.isError),a.xp6(3),a.Q6J("columnMode","force")("headerHeight",50)("footerHeight",50)("rowHeight","auto")("scrollbarH",!0)("rows",e.dataTable),a.xp6(1),a.Q6J("maxWidth",60),a.xp6(1),a.Q6J("maxWidth",80),a.xp6(6),a.Q6J("routerLink",a.DdM(30,y)))},dependencies:[u.sg,u.O5,x.rH,n._Y,n.YN,n.Kr,n.Fj,n.EJ,n.JJ,n.JL,n.sg,n.u,U.mh,m.nE,m.UC,m.ii,m.dX,u.H9,u.uU],styles:['.required[_ngcontent-%COMP%]:after{content:" *";color:red}label[_ngcontent-%COMP%]{font-weight:bolder}.custom-datatable[_ngcontent-%COMP%]{font-size:8px}.has-success[_ngcontent-%COMP%]{border:1px solid #19b159}.has-error[_ngcontent-%COMP%]{border:1px solid #f16d75}  .ng-dropdown-panel{z-index:3!important}  .rtl .ngx-datatable .datatable-footer .datatable-pager{flex:1 1 80%!important;text-align:left!important}  .mat-elevation-z8{overflow:auto}  .datatable-body{overflow:scroll;width:100%}  .dataTable-bottom{position:absolute;left:0;right:0;bottom:0;background:#fff!important}  table th,   table td,   .ngx-datatable.material .datatable-header .datatable-header-cell,   .ngx-datatable.material .datatable-body .datatable-body-row .datatable-body-cell{font-size:.876rem!important}@media (max-width: 567.9px){  .ngx-datatable .datatable-footer .datatable-footer-inner{flex-wrap:wrap;height:auto!important}  .ngx-datatable .datatable-footer .datatable-pager{text-align:center!important}}  .dataTable-wrapper.no-footer .dataTable-container{border-bottom:none!important}  .dataTable-selector{border-radius:.25rem}  app-data-table input{border-radius:25px;border:1px solid rgba(0,0,0,.1)}  app-data-table .custom-select{border:1px solid rgba(0,0,0,.24)!important;border-radius:.25rem}.table-responsive[_ngcontent-%COMP%]{overflow:visible}  .dark-theme input::placeholder{color:#fff!important}  .dark-theme app-data-tables .ngx-datatable.material{background-color:#1f2940!important}  .dark-theme app-data-tables .dataTable-bottom{background-color:#1f2940!important}  .dark-theme app-data-tables .dataTable-selector{background-color:#1f2940;border-color:#272c49;color:#fff;outline:none}  .dark-theme app-data-tables input{color:#eee!important;border-color:#262b48;border-radius:25px;height:27px}  .dark-theme app-data-tables .mat-form-field-label{left:12px!important;top:24px!important;color:#fff9}  .dark-theme app-data-tables .ngx-datatable.material .datatable-header .datatable-header-cell,   .dark-theme app-data-tables .ngx-datatable.material .datatable-body .datatable-body-row .datatable-body-cell{background-color:#1f2940;color:#fff}  .dark-theme app-data-tables .ngx-datatable.material .datatable-footer{border-top:1px solid rgb(39,43,74)!important;color:#fff!important;background:#1f2940!important}  .dark-theme app-data-tables .ngx-datatable.material .datatable-footer .datatable-pager li.disabled a{color:#fff!important;background-color:transparent!important}  .dark-theme app-data-tables .ngx-datatable.material .datatable-footer .datatable-pager li.active a{background-color:#cfd0d8!important}  .dark-theme app-data-tables .ngx-datatable.material .datatable-footer .datatable-pager a{color:#fff!important}  .dark-theme app-data-tables .ngx-datatable.material .datatable-header{border-bottom:1px solid #32394e!important}  .dark-theme app-data-tables .dataTable-pagination li a{color:#ccc}  .dark-theme app-data-tables .dataTable-pagination li:hover a,   .dark-theme app-data-tables .dataTable-pagination li.active a{color:#333}  .dark-theme app-data-tables .dataTable-sorter:after{border-bottom:4px solid #fff}  .dark-theme app-data-tables .dataTable-sorter:before{border-top:4px solid #fff}  .dark-theme app-data-tables .mat-table{background:#1f2940!important}  .dark-theme app-data-tables .mat-header-cell{color:#fff!important}  .dark-theme app-data-tables .mat-cell,   .dark-theme app-data-tables .mat-footer-cell{color:#eee!important}  .dark-theme app-data-tables mat-row,   .dark-theme app-data-tables mat-header-row,   .dark-theme app-data-tables mat-footer-row,   .dark-theme app-data-tables th.mat-header-cell,   .dark-theme app-data-tables td.mat-cell,   .dark-theme app-data-tables td.mat-footer-cell{border-bottom-color:#ffffff1f!important}  .dark-theme app-data-tables .mat-checkbox-frame{border-color:#fff9}  .dark-theme app-data-tables .mat-paginator,   .dark-theme app-data-tables .mat-paginator-page-size .mat-select-trigger{color:#ffffff8a!important}  .dark-theme app-data-tables .mat-paginator{background:#1f2940}  .dark-theme app-data-tables .mat-select-value{color:#fff7f7de}  .dark-theme app-data-tables .mat-select-arrow{color:#ffffffba}  .dark-theme .mat-select-panel{background:#30304d}  .dark-theme .mat-option{color:#ccc}  .dark-theme .mat-primary .mat-option.mat-selected:not(.mat-option-disabled){color:#fff}  .dark-theme .mat-option:hover:not(.mat-option-disabled),   .dark-theme .mat-option:focus:not(.mat-option-disabled){background:rgb(42,42,68)}  .dark-theme .mat-select-panel .mat-option.mat-selected:not(.mat-option-multiple){background:rgba(0,0,0,.12)}  .dark-theme .table-hover>tbody>tr:hover>*{color:#fff}  .dark-theme .table-striped>tbody>tr:nth-of-type(odd)>*{color:#ccc}  .dark-theme .ng-select .ng-select-container{color:#efefef!important}  .transparent-theme input::placeholder{color:#fff!important}  .transparent-theme app-data-tables .ngx-datatable.material{background-color:#0b5bc9!important}  .transparent-theme app-data-tables .dataTable-bottom{background-color:#0b5bc9!important}  .transparent-theme app-data-tables .dataTable-selector{background-color:#0b5bc9;border-color:#0b5bc9;color:#fff;outline:none}  .transparent-theme app-data-tables input{color:#eee!important;background-color:#0b5bc9!important;border-color:#0b5bc9;border-radius:25px;height:27px}  .transparent-theme app-data-tables .mat-form-field-label{left:12px!important;top:24px!important;color:#fff9}  .transparent-theme app-data-tables .ngx-datatable.material .datatable-header .datatable-header-cell,   .transparent-theme app-data-tables .ngx-datatable.material .datatable-body .datatable-body-row .datatable-body-cell{background-color:#0b5bc9;color:#fff}  .transparent-theme app-data-tables .ngx-datatable.material .datatable-footer{border-top:1px solid #0b5bc9!important;color:#fff!important;background:#0b5bc9!important}  .transparent-theme app-data-tables .ngx-datatable.material .datatable-footer .datatable-pager li.disabled a{color:#fff!important;background-color:transparent!important}  .transparent-theme app-data-tables .ngx-datatable.material .datatable-footer .datatable-pager li.active a{background-color:#cfd0d8!important}  .transparent-theme app-data-tables .ngx-datatable.material .datatable-footer .datatable-pager a{color:#fff!important}  .transparent-theme app-data-tables .ngx-datatable.material .datatable-header{border-bottom:1px solid #0b5bc9!important}  .transparent-theme app-data-tables .dataTable-pagination li a{color:#ccc}  .transparent-theme app-data-tables .dataTable-pagination li:hover a,   .transparent-theme app-data-tables .dataTable-pagination li.active a{color:#333}  .transparent-theme app-data-tables .dataTable-sorter:after{border-bottom:4px solid #fff}  .transparent-theme app-data-tables .dataTable-sorter:before{border-top:4px solid #fff}  .transparent-theme app-data-tables .mat-table{background:#0b5bc9!important}  .transparent-theme app-data-tables .mat-header-cell{color:#fff!important}  .transparent-theme app-data-tables .mat-cell,   .transparent-theme app-data-tables .mat-footer-cell{color:#eee!important}  .transparent-theme app-data-tables mat-row,   .transparent-theme app-data-tables mat-header-row,   .transparent-theme app-data-tables mat-footer-row,   .transparent-theme app-data-tables th.mat-header-cell,   .transparent-theme app-data-tables td.mat-cell,   .transparent-theme app-data-tables td.mat-footer-cell{border-bottom-color:#ffffff1f!important}  .transparent-theme app-data-tables .mat-checkbox-frame{border-color:#fff9}  .transparent-theme app-data-tables .mat-paginator,   .transparent-theme app-data-tables .mat-paginator-page-size .mat-select-trigger{color:#ffffff8a!important}  .transparent-theme app-data-tables .mat-paginator{background:#0b5bc9}  .transparent-theme app-data-tables .mat-select-value{color:#fff7f7de}  .transparent-theme app-data-tables .mat-select-arrow{color:#ffffffba}  .transparent-theme .mat-select-panel{background:#30304d}  .transparent-theme .mat-option{color:#ccc}  .transparent-theme .mat-primary .mat-option.mat-selected:not(.mat-option-disabled){color:#fff}  .transparent-theme .mat-option:hover:not(.mat-option-disabled),   .transparent-theme .mat-option:focus:not(.mat-option-disabled){background:rgb(42,42,68)}  .transparent-theme .mat-select-panel .mat-option.mat-selected:not(.mat-option-multiple){background:rgba(0,0,0,.12)}  .transparent-theme .table-hover>tbody>tr:hover>*{color:#fff}  .transparent-theme .table-striped>tbody>tr:nth-of-type(odd)>*{color:#ccc}  .transparent-theme .ng-select .ng-select-container{color:#efefef!important}  .transparent-theme .table-striped>tbody>tr:nth-of-type(2n+1)>*{background-color:#0b5bc9!important}']}),o})();var q=i(2752);function O(o,r){if(1&o&&(a.TgZ(0,"option",42),a._uU(1),a.qZA()),2&o){const t=r.$implicit,e=a.oxw();a.Q6J("ngValue",t.Value)("selected",t.Text===e.bulan),a.xp6(1),a.hij(" ",t.Text," ")}}function E(o,r){if(1&o&&(a.TgZ(0,"option",42),a._uU(1),a.qZA()),2&o){const t=r.$implicit,e=a.oxw();a.Q6J("ngValue",t.Value)("selected",t.Text===e.tahun),a.xp6(1),a.hij(" ",t.Text," ")}}function Q(o,r){if(1&o&&(a.TgZ(0,"option",42),a._uU(1),a.qZA()),2&o){const t=r.$implicit,e=a.oxw();a.Q6J("ngValue",t.kodeBank)("selected",t.kodeBank===e.kodeBank),a.xp6(1),a.AsE(" ",t.kodeBank," | ",t.namaBank," ")}}function z(o,r){if(1&o&&a._uU(0),2&o){const t=r.rowIndex,e=a.oxw();a.hij(" ",t+1+10*(e.page-1)," ")}}function H(o,r){if(1&o){const t=a.EpF();a.TgZ(0,"div",43),a._uU(1),a.qZA(),a.TgZ(2,"datatable-pager",44),a.NdJ("change",function(d){a.CHM(t);const s=a.oxw();return a.KtG(s.onPageChange(d))}),a.qZA()}if(2&o){const t=a.oxw();a.xp6(1),a.hij(" Total : ",t.keseluruhan," "),a.xp6(1),a.Q6J("pagerLeftArrowIcon","datatable-icon-left")("pagerRightArrowIcon","datatable-icon-right")("pagerPreviousIcon","datatable-icon-prev")("pagerNextIcon","datatable-icon-skip")("page",1)("size",10)("count",t.totalElements)}}const R=function(){return["/upload-data-cadangan/upload"]},Y=[{path:"",children:[{path:"upload",title:"Portal Evaluasi Kerjasama - Master Stoploss",component:S},{path:"inquiry",title:"Portal Evaluasi Kerjasama - Master Stoploss",component:(()=>{class o{constructor(t,e,d){this.tableService=t,this.router=e,this.curencyPipe=d,this.now=new Date,this.dataTable=q.a,this.page=1,this.size=10,this.entries=10,this.isFilter=!1,this.kodeBank="",this.tahun="",this.bulan="",this.namaBank="",this.noPks="",this.row=[],this.masterBank=[],this.isFilterCollapsed=!0,this.listNumber=1,this.monthList=[{Value:1,Text:"Januari"},{Value:2,Text:"Februari"},{Value:3,Text:"Maret"},{Value:4,Text:"April"},{Value:5,Text:"May"},{Value:6,Text:"Juni"},{Value:7,Text:"Juli"},{Value:8,Text:"Augustus"},{Value:9,Text:"September"},{Value:10,Text:"Oktober"},{Value:11,Text:"November"},{Value:12,Text:"Desember"}],this.yearList=[{Value:2015,Text:"2015"},{Value:2016,Text:"2016"},{Value:2017,Text:"2017"},{Value:2018,Text:"2018"},{Value:2019,Text:"2019"},{Value:2020,Text:"2020"},{Value:2021,Text:"2021"},{Value:2022,Text:"2022"},{Value:2023,Text:"2023"},{Value:2024,Text:"2024"},{Value:2025,Text:"2025"}],this.Success=l().mixin({toast:!0,width:"400px",position:"top-end",background:"#55efc4",iconColor:"#fff",showConfirmButton:!1,timer:1600,didOpen:s=>{s.addEventListener("mouseenter",l().stopTimer),s.addEventListener("mouseleave",l().resumeTimer)}}),this.Failed=l().mixin({toast:!0,width:"400px",position:"top-end",background:"#ff7675",iconColor:"#fff",showConfirmButton:!1,timer:4e3,didOpen:s=>{s.addEventListener("mouseenter",l().stopTimer),s.addEventListener("mouseleave",l().resumeTimer)}}),setInterval(()=>{this.now=new Date},1)}ngOnInit(){this.onGetDataCadanganIbnr(),this.buildFilterForm(),this.onGetMasterBank()}ngAfterViewInit(){}onActivate(t){}buildFilterForm(){this.filterForm=new n.cw({namaBank:new n.NI(""),kodeBank:new n.NI(""),tahun:new n.NI(""),bulan:new n.NI(""),noPks:new n.NI("")})}submitFilter(t){this.page=1,this.namaBank=t.namaBank,this.kodeBank=t.kodeBank,this.tahun=t.tahun,this.bulan=t.bulan,this.noPks=t.noPks,this.onGetDataCadanganIbnr()}resetFilter(){this.page=1,this.filterForm.get("namaBank")?.setValue(""),this.filterForm.get("kodeBank")?.setValue(""),this.filterForm.get("tahun")?.setValue(""),this.filterForm.get("bulan")?.setValue(""),this.filterForm.get("noPks")?.setValue(""),this.namaBank="",this.kodeBank="",this.tahun="",this.bulan="",this.noPks="",this.onGetDataCadanganIbnr()}onPageChange(t){this.page=t.page,l().fire({title:"Loading",allowOutsideClick:!1,didOpen:()=>{l().showLoading()}}),this.tableService.getDataCadanganIbnr(this.kodeBank,this.namaBank,this.bulan,this.tahun,this.noPks,this.page,this.size).subscribe(e=>{l().close(),this.row=e.data[0].content,this.keseluruhan=e.data[0].totalElements,this.totalElements=e.data[0].totalElements},e=>{l().close(),this.row=[],l().fire({title:"Load Data Failed",text:"Gagal memuat data Cadangan Ibnr",icon:"error",timer:5e3,timerProgressBar:!0})})}onGetDataCadanganIbnr(){l().fire({title:"Loading",allowOutsideClick:!1,didOpen:()=>{l().showLoading()}}),this.tableService.getDataCadanganIbnr(this.kodeBank,this.namaBank,this.bulan,this.tahun,this.noPks,this.page,this.size).subscribe(t=>{l().close(),this.row=t.data[0].content,this.keseluruhan=t.data[0].totalElements,this.totalElements=t.data[0].totalElements,this.row.forEach(e=>{e.amtCadanganPremi=this.curencyPipe.transform(e.amtCadanganPremi),e.amtIbnr=this.curencyPipe.transform(e.amtIbnr)})},t=>{l().close(),this.row=[],l().fire({title:"Load Data Failed",text:"Gagal memuat data Cadangan Ibnr",icon:"error",timer:5e3,timerProgressBar:!0})})}onGetMasterBank(){this.tableService.getMasterBank().subscribe(t=>{l().close(),this.masterBank=t},t=>{})}compareByIDBank(t,e){return t&&e?t.id===e.id:t===e}export(){console.log("export")}setPage(t){this.page=t.offset+1,this.tableService.getDataCadanganIbnr(this.kodeBank,this.namaBank,this.bulan,this.tahun,this.noPks,this.page,this.size).subscribe(e=>{this.page=e.data[0].number+1,this.row=e.data[0].content})}downloadDataCadangan(){this.tableService.exportDataCadangan(this.kodeBank,this.namaBank,this.bulan,this.tahun,this.noPks,this.page,this.size).subscribe(t=>{this.Success.fire({icon:"success",timer:5e3,title:"<a style='color:#fff'>Download Data Cadangan berhasil!</a>"}),setTimeout(()=>{location.reload()},5e3)},t=>{this.Failed.fire({icon:"error",timer:5e3,title:"<a style='color:#fff'>Download Data Cadangan Gagal!</a>"}),setTimeout(()=>{location.reload()},5e3)})}}return o.\u0275fac=function(t){return new(t||o)(a.Y36(B),a.Y36(x.F0),a.Y36(A.m))},o.\u0275cmp=a.Xpm({type:o,selectors:[["app-upload-data-cadangan"]],decls:75,vars:26,consts:[[1,"breadcrumb-header","justify-content-between"],[1,"my-auto"],[1,"d-flex"],[1,"content-title","mb-0","my-auto"],[1,"text-muted","mt-1","tx-13","ms-2","mb-0"],[1,"row","row-sm"],[1,"col-xl-12"],[1,"card","mg-b-20"],[1,"card-header","pb-4","ml-1"],[1,"main-content-label","mb-1",2,"margin-left","-4px"],[1,"card-body","pt-0"],["method","POST",3,"formGroup","ngSubmit"],[1,"row"],[1,"col-1","form-control-sm","pt-1"],[1,"col-2","form-group"],["data-live-search","true","id","bulan","name","bulan","formControlName","bulan","placeholder","-Bulan-",1,"form-control","filter-input","selectpicker","form-control-sm"],["selected","","disabled","","value",""],[3,"ngValue","selected",4,"ngFor","ngForOf"],["data-live-search","true","id","tahun","name","tahun","formControlName","tahun","placeholder","-Tahun-",1,"form-control","filter-input","selectpicker","form-control-sm"],[1,"col-5","form-group"],["data-live-search","true","id","kodeBank","name","kodeBank","formControlName","kodeBank","placeholder","-Bank-",1,"form-control","filter-input","selectpicker","form-control-sm",3,"compareWith","ngModelChange"],["type","text","formControlName","noPks","id","noPks","name","noPks","placeholder","No. Pks",1,"form-control","form-control-sm"],[1,"col-9","mb-xl-0"],["type","submit","data-toggle","tooltip","data-placement","bottom","title","Cari",1,"btn","btn-warning","mr-1","mb-1","btn-sm",3,"disabled"],[1,"bx","bx-search-alt-2"],["type","button","data-toggle","tooltip","data-placement","bottom","title","Reset Pencarian",1,"btn","btn-danger","mb-1","ms-2","btn-sm",3,"click"],[1,"bx","bx-reset"],["type","button","data-toggle","tooltip","data-placement","bottom","title","Upload Data Cadangan IBNR",1,"btn","btn-primary","mb-1","ms-2","btn-sm",3,"routerLink"],[1,"bx","bx-add-to-queue"],[1,"col-2","mb-xl-0"],["type","button",1,"btn","btn-primary","mb-1","ms-2","btn-sm",2,"float","right",3,"click"],[1,"card-body"],[1,"material",2,"font-size","8px","height","auto",3,"rows","columnMode","headerHeight","footerHeight","rowHeight","scrollbarH","limit"],["name","No","prop","partnerTypeId",3,"maxWidth"],["ngx-datatable-cell-template",""],["name","Bulan","prop","bulan",3,"width"],["name","Tahun","prop","tahun",3,"width"],["name","Produk","prop","namaProduk",3,"width"],["name","No. PKS","prop","noPks",3,"width"],["name","Cadangan Premi","prop","amtCadanganPremi",3,"width"],["name","Cadangan IBNR","prop","amtIbnr",3,"width"],["ngx-datatable-footer-template",""],[3,"ngValue","selected"],[2,"padding-left","10px"],[3,"pagerLeftArrowIcon","pagerRightArrowIcon","pagerPreviousIcon","pagerNextIcon","page","size","count","change"]],template:function(t,e){1&t&&(a.TgZ(0,"div",0)(1,"div",1)(2,"div",2)(3,"h4",3),a._uU(4,"Data Cadangan"),a.qZA()()(),a.TgZ(5,"div",1)(6,"div",2),a._UZ(7,"h4",3),a.TgZ(8,"span",4),a._uU(9),a.ALo(10,"date"),a.qZA()()()(),a.TgZ(11,"div",5)(12,"div",6)(13,"div",7)(14,"div",8)(15,"div")(16,"h6",9),a._uU(17,"Daftar Data Cadangan IBNR"),a.qZA()()(),a.TgZ(18,"div",10)(19,"form",11),a.NdJ("ngSubmit",function(){return e.submitFilter(e.filterForm.value)}),a.TgZ(20,"div",12)(21,"label",13),a._uU(22,"Bulan"),a.qZA(),a.TgZ(23,"div",14)(24,"select",15)(25,"option",16),a._uU(26,"Pilih Bulan"),a.qZA(),a.YNc(27,O,2,3,"option",17),a.qZA()(),a.TgZ(28,"label",13),a._uU(29,"Tahun"),a.qZA(),a.TgZ(30,"div",14)(31,"select",18)(32,"option",16),a._uU(33,"Pilih Tahun"),a.qZA(),a.YNc(34,E,2,3,"option",17),a.qZA()()(),a.TgZ(35,"div",12)(36,"label",13),a._uU(37,"Bank"),a.qZA(),a.TgZ(38,"div",19)(39,"select",20),a.NdJ("ngModelChange",function(){return e.onGetMasterBank}),a.TgZ(40,"option",16),a._uU(41,"Pilih Bank"),a.qZA(),a.YNc(42,Q,2,4,"option",17),a.qZA()()(),a.TgZ(43,"div",12)(44,"label",13),a._uU(45,"No PKS"),a.qZA(),a.TgZ(46,"div",19),a._UZ(47,"input",21),a.qZA()(),a.TgZ(48,"div",12),a._UZ(49,"label",13),a.TgZ(50,"div",22)(51,"button",23),a._UZ(52,"i",24),a._uU(53,"\xa0Cari"),a.qZA(),a.TgZ(54,"button",25),a.NdJ("click",function(){return e.resetFilter()}),a._UZ(55,"i",26),a._uU(56,"\xa0Reset"),a.qZA(),a.TgZ(57,"button",27),a._UZ(58,"i",28),a._uU(59,"\xa0Upload Data Cadangan IBNR"),a.qZA()(),a.TgZ(60,"div",29)(61,"button",30),a.NdJ("click",function(){return e.downloadDataCadangan()}),a._uU(62,"Export To Excel"),a.qZA()()()()(),a.TgZ(63,"div",31)(64,"ngx-datatable",32)(65,"ngx-datatable-column",33),a.YNc(66,z,1,1,"ng-template",34),a.qZA(),a._UZ(67,"ngx-datatable-column",35)(68,"ngx-datatable-column",36)(69,"ngx-datatable-column",37)(70,"ngx-datatable-column",38)(71,"ngx-datatable-column",39)(72,"ngx-datatable-column",40),a.TgZ(73,"ngx-datatable-footer"),a.YNc(74,H,3,8,"ng-template",41),a.qZA()()()()()()),2&t&&(a.xp6(9),a.Oqu(a.xi3(10,22,e.now,"dd/MM/yyyy hh:mm:ss")),a.xp6(10),a.Q6J("formGroup",e.filterForm),a.xp6(8),a.Q6J("ngForOf",e.monthList),a.xp6(7),a.Q6J("ngForOf",e.yearList),a.xp6(5),a.Q6J("compareWith",e.compareByIDBank),a.xp6(3),a.Q6J("ngForOf",e.masterBank),a.xp6(9),a.Q6J("disabled",e.filterForm.invalid),a.xp6(6),a.Q6J("routerLink",a.DdM(25,R)),a.xp6(7),a.Q6J("rows",e.row)("columnMode","force")("headerHeight",50)("footerHeight",50)("rowHeight",50)("scrollbarH",!0)("limit",-1!=e.entries?e.entries:void 0),a.xp6(1),a.Q6J("maxWidth",80),a.xp6(2),a.Q6J("width",100),a.xp6(1),a.Q6J("width",100),a.xp6(1),a.Q6J("width",100),a.xp6(1),a.Q6J("width",100),a.xp6(1),a.Q6J("width",100),a.xp6(1),a.Q6J("width",100))},dependencies:[u.sg,x.rH,n._Y,n.YN,n.Kr,n.Fj,n.EJ,n.JJ,n.JL,n.sg,n.u,U.mh,m.nE,m.UC,m.vq,m.ii,m.dX,m.Ke,u.uU]}),o})()}]}];let j=(()=>{class o{}return o.\u0275fac=function(t){return new(t||o)},o.\u0275mod=a.oAB({type:o}),o.\u0275inj=a.cJS({imports:[x.Bz.forChild(Y),x.Bz]}),o})();var P=i(3333),G=i(2851),K=i(1621),W=i(620),$=i(8796),X=i(6457),aa=i(1687),ta=i(7375),ea=i(1844),oa=i(1894),na=i(9189),ra=i(8425),la=i(8563);let ia=(()=>{class o{}return o.\u0275fac=function(t){return new(t||o)},o.\u0275mod=a.oAB({type:o}),o.\u0275inj=a.cJS({imports:[u.ez,j,P.IJ,n.u5,n.UX,G.e4,K.n1.forRoot(),W._h,$.A0,X.JO,U.J7,aa.fi.forRoot(),ta.UM,b.JF,ea.Ti,oa.bB,na.O,ra.T5,la.g,m.xD,P.IJ]}),o})()}}]);